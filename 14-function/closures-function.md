# ক্লোজার ফাংশন(Closures Function)

ক্লোজার ফাংশন (Closures Function) মানে হচ্ছে কোন কিছু কে আবদ্ধ করে রাখা। আরো যদি সহজ ভাষায় বলি কোন কিছু নিজের একটা প্রাইভেট বা ব্যাক্তিগত বক্স করে সেই বক্সে রাখা। এখন কথা হচ্ছে কেন এমন জিনিস জাভাস্ক্রিপ্টে আসল কি কারনে আসল। চলুন একটু বিষয়টা বুঝার চেষ্টা করি।

চলুন প্রথমে কিছু কোড দেখে নেই।

```javascript
let value = 1
function multiply(){
   value = value * 2;
   console.log(value)
}  
multiply() // output: 2
multiply() // output: 4
multiply() // output: 8
console.log(value) // 8
```

এই কোডটাতে কি হচ্ছে ? আমি একটা ভেরিয়েবল নিয়েছি value নাম দিয়ে আরেকটা ফাংশন নিয়েছি multiply নাম দিয়ে। multiply ফাংশন টা এখানে যেইটা করছে সেইটা হলো আমার যে value নামে গ্লোবাল ভেরিয়েবল টা নিয়েছি সেইটা সেইটাকে আপডেট করে দিচ্ছে প্রতিবার কল করার মধ্যমে যেইটা আমার এক্সপেক্টটেশন ছিল। এখন কথা হচ্ছে বিষয়টা তো আমি ফাংশন ছাড়াও করতে পারতাম মানে ইঙ্ক্রিমেন্ট বা ডিক্রিমেন্ট দিয়েও করতে পারতাম এই বাড়ানো কমানোর কাজ টা। তাহলে কেন শুধু শুধু ফাংশন নামক বিষয় টা নিয়ে আসলাম। উত্তর আমি আরেকটু পড়ে দিচ্ছি তার আগে আরেকটা কোড দেখে নেই।&#x20;

```javascript
function multiply(){
   let value = 1
   value = value * 2;
   console.log(value)
}  
multiply() // output : 2
multiply() // output : 2
console.log(value) // output: ReferenceError: value is not defined
```

এইবার যদি লক্ষ্য করেন তাহলে দেখতে পাবেন আমি আগের কোডে একটু পরিবর্তন করেছি। আমি value নামক ভ্যারিয়েবলটাকে ফাংশনের ভিতরে নিয়ে এসেছি এখন কথা হচ্চে এই যে নিয়ে আসলাম এতে করে আমার আগে যে আউটপুট দিত এখন সেইটা আর দিচ্ছে না। মানে আমি যখন ফাংশন টাকে কল করছি আমি আসলে আপডেটেট value পাচ্ছি না কেন এমন হচ্ছে? উত্তর টা খুজার জন্য চলুন এবার আরো একটু গভীরে যায়। এই যা আমার গান মনে পরে গেল "**গভীরে যাও" নামে একটা গান আছে হয়ত শ্রদ্ধেয়** Rupankar Bagchi স্যার এর।

যাই হোক আমরাও গভীরে যায় এখন। প্রথমেই জেনে নেই

ভেরিয়েবল এর জীবনকাল সম্পর্কে।

কথায় আছে জন্ম নিলে মরতে হবে এই কথা টা কিন্তু এই প্রোগ্রামিং এ ও সত্যি আরকি

আমরা জানি ভেরিয়েবল দুই ধরনের হতে পারে একটা গ্লোবাল আরেকটা হচ্ছে লোকাল। গ্লোবাল কি ? গ্লোবাল হচ্ছে সার্বজনীন মানে হলো এ আসলে সবার জন্য একদম চান্দের আলোর মতো। এই যা !! আমার আবার গান মনে পড়েছে _**"চান্দের বাতির কসম দিয়া ভালবাসলি সুর্যের আলোয় ঝলমলাইয়া আমায় পুড়াইলি এখন তো চান্দের চিনে না আমারে সুর্যও চিনে না"**_ শ্রদ্ধেয় _**বিপ্লপ**_ স্যার হয়ত এই গান গেয়েছিলেন। যাইহোক আপনারা তো বুঝেছেন যে গ্লোবাল মানে সবার জন্য। মানে যে ভেরিয়েবল টা আমি সব জায়গায় এক্সেস করতে পারব। কথা হচ্ছে আমি তারে চিনব কতক্ষণ ? বা কত সময় ধরে সে জাভাস্ক্রিপ্টে বেঁচে থাকবে? উত্তর হচ্ছে যতক্ষণ আমার ব্রাউজার ক্লোজ না করছি অথবা আমি এক পেইজ থেকে অন্য পেইজে নেভিগেইট করছি বা আমি যে ট্যাব এ আছি সেই ট্যাবটা ক্লোজ করছি।

MDN এর অফিসিয়াল সংজ্ঞাঃ&#x20;

> A closure is the combination of a function bundled together (enclosed) with references to its surrounding state (the lexical environment). In other words, a closure gives you access to an outer function's scope from an inner function. In JavaScript, closures are created every time a function is created, at function creation time.

```javascript
function wrapValue(n) {
  let local = n;
  return () => local;
}

let wrap1 = wrapValue(1);
let wrap2 = wrapValue(2);
console.log(wrap1());
// → 1
console.log(wrap2());
// → 2
```
